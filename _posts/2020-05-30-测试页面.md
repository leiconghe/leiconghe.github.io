---
layout: post
title:  "STM32 GPIO模式"
date:   2020/5/30 17:02:30 +0800
tags: [STM32，GPIO]
color: rgb(255,0,0)
cover: '../assets/test.png'
subtitle: '测试页面'
---
# STM32 GPIO8种模式 #
##GPIO端口各种模式的区别##
（1）GPIO_Mode_AIN 模拟输入
（2）GPIO_Mode_IN_FLOATING 浮空输入
（3）GPIO_Mode_IPD 下拉输入
（4）GPIO_Mode_IPU 上拉输入
（5）GPIO_Mode_Out_OD 开漏输出
（6）GPIO_Mode_Out_PP 推挽输出
（7）GPIO_Mode_AF_OD 复用开漏输出
（8）GPIO_Mode_AF_PP 复用推挽输出

**推挽输出和开漏输出：**
推挽输出:可以输出高,低电平,连接数字器件;
开漏输出:输出端相当于三极管的集电极. 要得到高电平状态需要上拉电阻才行. 适合于做电流型的驱动,其吸收电流的能力相对强(一般20ma以内).
推挽结构一般是指两个三极管分别受两互补信号的控制,总是在一个三极管导通的时候另一个截止.
要实现 线与 需要用OC(open collector)门电路.是两个参数相同的三极管或MOSFET,以推挽方式存在于电路中,各负责正负半周的波形放大任务,电路工作时，两只对称的功率开关管每次只有一个导通，所以导通损耗小,效率高。输出既可以向负载灌电流，也可以从负载抽取电流
当端口配置为输出时：
开漏模式：输出 0 时，N-MOS 导通，P-MOS 不被激活，输出0。
输出 1 时，N-MOS 高阻， P-MOS 不被激活，输出1（需要外部上拉电路）；此模式可以把端口作为双向IO使用。
推挽模式：输出 0 时，N-MOS 导通，P-MOS 高阻 ，输出0。
输出 1 时，N-MOS 高阻，P-MOS 导通，输出1（不需要外部上拉电路）。
简单来说开漏是0的时候接GND 1的时候浮空 推挽是0的时候接GND 1的时候接VCC
